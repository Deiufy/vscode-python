parameters:
  jobs: []
  pythonVersions: ["3.7", "3.6", "3.5", "2.7"]


jobs:
- job: UITest
  timeoutInMinutes: 90
  strategy:
    matrix:
      ${{ each job in parameters.jobs }}:
        ${{ each py in parameters.pythonVersions }}:
          ${{ format('Mac{0}{1}', py, job.test) }}:
            PythonVersion: ${{ py }}
            VMImageName: "macos-10.13"
            Tags: ${{ job.tags }}
            Test: true

          ${{ format('Win{0}{1}', py, job.test) }}:
            PythonVersion: ${{ py }}
            VMImageName: "vs2017-win2016"
            Tags: ${{ job.tags }}
            Test: true


          ${{ format('Linux{0}{1}', py, job.test) }}:
            PythonVersion: ${{ py }}
            VMImageName: "ubuntu-16.04"
            Tags: ${{ job.tags }}
            Test: true

  pool:
    vmImage: $(VMImageName)

  steps:
    - template: uitest_phases.yml
